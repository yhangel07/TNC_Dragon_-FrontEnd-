{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      Home\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"dark\\\">\\r\\n    <ion-card class=\\\"welcome-card\\\" color=\\\"secondary\\\">\\r\\n      <img src=\\\"/assets/shapes.svg\\\" alt=\\\"\\\" />\\r\\n      <ion-card-header>\\r\\n        <ion-card-title>Good Afternoon, User</ion-card-title>\\r\\n      </ion-card-header>\\r\\n    </ion-card>\\r\\n    \\r\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n      <ion-fab-button routerLink=\\\"/luckydraw\\\" router-direction=\\\"back\\\" color=\\\"medium\\\">\\r\\n        <ion-icon name=\\\"star-outline\\\" color=\\\"dark\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n    </ion-fab>\\r\\n\\r\\n  <div class=\\\"news\\\">\\r\\n    <ion-card *ngFor=\\\"let post of posts\\\" class=\\\"nCard\\\" color=\\\"secondary\\\">\\r\\n        <ion-card-content>\\r\\n          <img [src]=\\\"post.media_url\\\">\\r\\n        </ion-card-content>\\r\\n        <ion-card-header>\\r\\n          <ion-card-title [innerHTML]=\\\"post.title.rendered\\\"></ion-card-title>\\r\\n          <ion-card-subtitle>{{ post.date_gmt | date }}</ion-card-subtitle>\\r\\n        </ion-card-header>\\r\\n        <ion-button expand=\\\"full\\\" fill=\\\"clear\\\" [routerLink]=\\\"['/', 'home', post.id]\\\" text-right>Read More...</ion-button>\\r\\n      </ion-card>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AuthGuard } from '../loginExtras/auth.guard';\r\n\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: HomePage,\r\n       // canActivate: [AuthGuard] //TO Remove\r\n        \r\n      }\r\n    ])\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n\\n.news {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  overflow-x: auto;\\n}\\n\\n.news .nCard {\\n  -webkit-box-flex: 0;\\n          flex: 0 0 auto;\\n  width: 90%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9jOlxcVXNlcnNcXFJpZGEgTGVlXFxEZXNrdG9wXFxUTkMgQXBwc1xcaW9uaWNcXHRuY2FwcC9zcmNcXGFwcFxcaG9tZVxcaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FEQ0U7RUFDRSxtQkFBQTtVQUFBLGNBQUE7RUFDQSxVQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ubmV3cyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuXG4gIC5uQ2FyZCB7XG4gICAgZmxleDogMCAwIGF1dG87XG4gICAgd2lkdGg6IDkwJTtcbiAgfVxufSIsIi53ZWxjb21lLWNhcmQgaW1nIHtcbiAgbWF4LWhlaWdodDogMzV2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLm5ld3Mge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgb3ZlcmZsb3cteDogYXV0bztcbn1cbi5uZXdzIC5uQ2FyZCB7XG4gIGZsZXg6IDAgMCBhdXRvO1xuICB3aWR0aDogOTAlO1xufSJdfQ== */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { switchMap } from \"rxjs/operators\";\r\nimport { WordpressService } from \"./../wordpress.service\";\r\nimport { AuthenticationService } from '../loginExtras/authentication.service';\r\nimport { UserService } from '../loginExtras/user.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { User } from '../loginExtras/user';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\n\r\nexport class HomePage implements OnInit, OnDestroy {\r\n  currentUser: User;\r\n  currentUserSubscription: Subscription;\r\n  posts = [];\r\n  page = 1;\r\n  count = null;\r\n \r\n  constructor(private wp: WordpressService, private loadingCtrl: LoadingController,\r\n    private authenticationService: AuthenticationService,\r\n        private userService: UserService) { \r\n    this.currentUserSubscription = this.authenticationService.currentUser.subscribe(user => {\r\n      this.currentUser = user;\r\n    });\r\n  }\r\n \r\n  ngOnInit() {\r\n    this.loadPosts();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.currentUserSubscription.unsubscribe();\r\n  }\r\n\r\n  async loadPosts() {\r\n    let loading = await this.loadingCtrl.create({\r\n      message: 'Loading Data...'\r\n    });\r\n    await loading.present();\r\n \r\n    this.wp.getPosts().subscribe(res => {\r\n      this.count = this.wp.totalPosts;\r\n      this.posts = res;\r\n      loading.dismiss();\r\n    });\r\n  }\r\n \r\n  loadMore(event) {\r\n    this.page++;\r\n \r\n    this.wp.getPosts(this.page).subscribe(res => {\r\n      this.posts = [...this.posts, ...res];\r\n      event.target.complete();\r\n \r\n      // Disable infinite loading when maximum reached\r\n      if (this.page == this.wp.pages) {\r\n        event.target.disabled = true;\r\n      }\r\n    });\r\n  }\r\n \r\n}\r\n"],"sourceRoot":""}